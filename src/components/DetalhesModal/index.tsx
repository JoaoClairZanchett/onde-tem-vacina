import { Rating } from '@material-ui/lab';
import React, { ChangeEvent } from 'react';
import Select from '@material-ui/core/Select';
import Slider from '@material-ui/core/Slider';
import { ModalCard,SliderContainer,  FormGroupArea, ModalHeader, TextArea, ModalTitle, MenuItemText, ModalContent, ModalFooter, OutlineButton, Button, AvaliarPosto, Item, RadioButton, RadioButtonLabel, DoseSendoAplicada, Options, InformacoesDeAplicacao, Label, SliderGroup, TamanhoFila, Comentarios, RatingContainer, Close, AgeInput } from './styles';
import { FormGroup, MenuItem } from '@material-ui/core';

interface Props {
    temVacina: () => void;
    naoTemVacina: () => void;
  }

const { useState } = React;


const DetalhesModal : React.FC<Props> = ({temVacina, naoTemVacina}) => { 

    const [rating, setRating] = useState<number | null>(1);
    const [selectedDose, setSelectedDose] = useState('');
    const [age, setAge] = useState<number>(60);
    const [genero, setGenero] = useState('');
    const [tamanhoFilaValue, setTamanhoFilaValue] = useState<number>(0);

    const handleAgeChange = (event: ChangeEvent<HTMLInputElement>) => {
        var newValue = (event.target.value as unknown);

        if(newValue as number > 99) {
            newValue = 99;
        } else if(newValue as number < 0) {
            newValue = 18;
        }
        setAge(newValue as number);
    };

    const handleGeneroChange = (event: React.ChangeEvent<{ value: unknown }>) => {
        setGenero(event.target.value as string);
    };

    const handleTamanhoFilaChange = (event: any, newValue: number | number[]) => {
        setTamanhoFilaValue(newValue as number);
    };

    return (
        <ModalCard>
            <ModalHeader>
                <ModalTitle>
                    <span>
                        Eii, nos conte mais sobre a vacinação no CMS Heitor Beltrão
                    </span>
                </ModalTitle>
                <Close onClick={naoTemVacina}>
                    <span>
                        x
                    </span>
                </Close>
            </ModalHeader>
            <ModalContent>
                <AvaliarPosto>
                    <span>
                        Avalie o posto:
                    </span>
                    <RatingContainer>    
                        <Rating
                            size="large"
                            name="unique-rating"
                            readOnly={false}
                            max={5}
                            value={rating}
                            onChange={(event, newValue) => {
                                setRating(newValue);
                            }}
                        />
                    </RatingContainer>
                    
                </AvaliarPosto>
                <DoseSendoAplicada>
                    <span>
                        Qual dose está sendo aplicada ?
                    </span>
                    <Options>
                        <Item>
                            <RadioButton
                            type="radio"
                            name="radio"
                            value="primeira"
                            checked={selectedDose === "primeira"}
                            onChange={(newValue) => {
                                setSelectedDose("primeira");
                            }}
                            />
                            <RadioButtonLabel >
                            <span>
                                Primeira dose
                            </span>
                            </RadioButtonLabel>
                        </Item>
                        <Item>
                            <RadioButton
                            type="radio"
                            name="radio"
                            value="segunda"
                            checked={selectedDose === "segunda"}
                            onChange={(newValue) => {
                                setSelectedDose("segunda");
                            }}
                            />
                            <RadioButtonLabel >
                            <span>
                                Segunda dose
                            </span>
                            </RadioButtonLabel>
                        </Item>
                        <Item>
                            <RadioButton
                            type="radio"
                            name="radio"
                            value="ambos"
                            checked={selectedDose === "ambos"}
                            onChange={(newValue) => {
                                setSelectedDose("ambos");
                            }}
                            />
                            <RadioButtonLabel >
                            <span>
                                Primeira e segunda dose
                            </span>
                            </RadioButtonLabel>
                        </Item>
                    </Options>
                </DoseSendoAplicada>
                <InformacoesDeAplicacao>
                <FormGroupArea>
                    <FormGroup>
                        <Label>
                            <span>
                                Faixa etária de vacinação
                            </span>
                        </Label>
                        <AgeInput value={age} onChange={handleAgeChange} placeholder='Digite a idade mínima para aplicação' />
                    </FormGroup>
                </FormGroupArea>
                <FormGroupArea>
                    <FormGroup >
                        <Label>
                            <span>
                                Quem está sendo vacinado?
                            </span>
                        </Label>
                        <Select
                        labelId="demo-simple-select-label"
                        id="demo-simple-select"
                        value={genero}
                        onChange={handleGeneroChange}
                        >
                        <MenuItem value={10}>
                            <MenuItemText>
                                Homens
                            </MenuItemText>
                        </MenuItem>
                        <MenuItem value={20}>
                            <MenuItemText>
                                Mulheres
                            </MenuItemText>
                        </MenuItem>
                        <MenuItem value={30}>
                            <MenuItemText>
                                Homens e Mulheres
                            </MenuItemText>
                        </MenuItem>
                    </Select>
                    </FormGroup>
                </FormGroupArea>
                </InformacoesDeAplicacao>
                
                <TamanhoFila>
                    <span>
                        Como está a fila?
                    </span>
                    <SliderGroup>
                        <svg width="20" height="32" viewBox="0 0 20 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12.6716 6.24917C14.2862 6.24917 15.5962 4.9392 15.5962 3.3246C15.5962 1.70999 14.2862 0.400024 12.6716 0.400024C11.057 0.400024 9.74705 1.70999 9.74705 3.3246C9.74705 4.9392 11.057 6.24917 12.6716 6.24917ZM18.4294 15.3336L17.0097 14.6147L16.4187 12.8234C15.5231 10.1059 13.025 8.20498 10.1918 8.19888C7.9984 8.19279 6.78592 8.81426 4.50719 9.73428C3.19113 10.2644 2.1127 11.2697 1.47904 12.5492L1.07082 13.3778C0.595577 14.3405 0.979427 15.5103 1.93601 15.9916C2.88649 16.473 4.04413 16.083 4.52547 15.1204L4.93369 14.2917C5.14694 13.8652 5.50033 13.5301 5.93901 13.3534L7.5719 12.6954L6.64578 16.3938C6.32895 17.6611 6.67016 19.0076 7.55362 19.9764L11.2032 23.9611C11.6419 24.4424 11.9527 25.0213 12.1111 25.6488L13.2261 30.1149C13.4881 31.1568 14.5482 31.7965 15.5901 31.5345C16.632 31.2725 17.2717 30.2124 17.0097 29.1705L15.6571 23.7479C15.4987 23.1203 15.188 22.5354 14.7493 22.0601L11.977 19.032L13.025 14.8462L13.3601 15.8515C13.683 16.8325 14.3776 17.6428 15.2915 18.1059L16.7112 18.8248C17.6617 19.3062 18.8193 18.9162 19.3006 17.9535C19.7698 16.997 19.3859 15.815 18.4294 15.3336ZM4.48282 23.9063C4.28785 24.3998 3.99539 24.8446 3.61763 25.2162L0.571205 28.2688C-0.190402 29.0304 -0.190402 30.2672 0.571205 31.0288C1.33281 31.7904 2.56357 31.7904 3.32518 31.0288L6.94433 27.4097C7.316 27.038 7.60846 26.5932 7.80952 26.0997L8.63206 24.0403C5.26271 20.3663 6.27412 21.4935 5.74404 20.7684L4.48282 23.9063Z" fill="#286E8C"/>
                        </svg>

                            <SliderContainer>
                                <Slider  value={tamanhoFilaValue} onChange={handleTamanhoFilaChange} aria-labelledby="continuous-slider" />
                            </SliderContainer>
                    
                            <svg width="40" height="34" viewBox="0 0 40 34" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12.6716 7.24917C14.2862 7.24917 15.5962 5.9392 15.5962 4.3246C15.5962 2.70999 14.2862 1.40002 12.6716 1.40002C11.057 1.40002 9.74705 2.70999 9.74705 4.3246C9.74705 5.9392 11.057 7.24917 12.6716 7.24917ZM18.4294 16.3336L17.0097 15.6147L16.4187 13.8234C15.5231 11.1059 13.025 9.20498 10.1918 9.19888C7.9984 9.19279 6.78592 9.81426 4.50719 10.7343C3.19113 11.2644 2.1127 12.2697 1.47904 13.5492L1.07082 14.3778C0.595577 15.3405 0.979427 16.5103 1.93601 16.9916C2.88649 17.473 4.04413 17.083 4.52547 16.1204L4.93369 15.2917C5.14694 14.8652 5.50033 14.5301 5.93901 14.3534L7.5719 13.6954L6.64578 17.3938C6.32895 18.6611 6.67016 20.0076 7.55362 20.9764L11.2032 24.9611C11.6419 25.4424 11.9527 26.0213 12.1111 26.6488L13.2261 31.1149C13.4881 32.1568 14.5482 32.7965 15.5901 32.5345C16.632 32.2725 17.2717 31.2124 17.0097 30.1705L15.6571 24.7479C15.4987 24.1203 15.188 23.5354 14.7493 23.0601L11.977 20.032L13.025 15.8462L13.3601 16.8515C13.683 17.8325 14.3776 18.6428 15.2915 19.1059L16.7112 19.8248C17.6617 20.3062 18.8193 19.9162 19.3006 18.9535C19.7698 17.997 19.3859 16.815 18.4294 16.3336ZM4.48282 24.9063C4.28785 25.3998 3.99539 25.8446 3.61763 26.2162L0.571205 29.2688C-0.190402 30.0304 -0.190402 31.2672 0.571205 32.0288C1.33281 32.7904 2.56357 32.7904 3.32518 32.0288L6.94433 28.4097C7.316 28.038 7.60846 27.5932 7.80952 27.0997L8.63206 25.0403C5.26271 21.3663 6.27412 22.4935 5.74404 21.7684L4.48282 24.9063Z" fill="#286E8C"/>
                                <path d="M11.9188 14.526L11.1962 14.8172L11.1961 14.8172C10.8763 14.9461 10.6131 15.1923 10.4518 15.5142C10.4516 15.5146 10.4514 15.5149 10.4512 15.5153L10.0443 16.3413L10.043 16.344L10.043 16.344C9.44004 17.5499 7.98277 18.0466 6.78043 17.4377C5.57598 16.8309 5.09799 15.3618 5.69261 14.1568L11.9188 14.526ZM11.9188 14.526L11.2311 17.2723L11.231 17.2725C10.8734 18.703 11.2587 20.2213 12.2545 21.3133L12.2552 21.3141L15.904 25.2979C15.9042 25.2981 15.9044 25.2983 15.9045 25.2985C16.2873 25.7187 16.5582 26.2234 16.6964 26.7704C16.6965 26.7707 16.6965 26.7709 16.6966 26.7712L17.8113 31.236L17.8115 31.2368C18.1403 32.5443 19.4705 33.3493 20.7823 33.0194C22.0895 32.6907 22.8945 31.3611 22.5652 30.0495L11.9188 14.526ZM6.10083 13.3282L5.69279 14.1565L15.2621 9.19888L15.2635 8.69888C15.2634 8.69888 15.2633 8.69888 15.2632 8.69888C13.2276 8.69328 11.9662 9.2125 10.16 9.95594C9.91472 10.0569 9.65938 10.162 9.3907 10.2705C7.95927 10.847 6.78865 11.9393 6.10129 13.3273L6.10083 13.3282ZM22.4902 15.2619L21.9639 13.6668L22.565 30.0486L21.2126 24.6268L21.2122 24.6255C21.0342 23.9201 20.6846 23.2603 20.1877 22.7218C20.1875 22.7215 20.1872 22.7213 20.187 22.721L17.5977 19.8926L18.1809 17.563C18.5977 18.4181 19.2815 19.119 20.1359 19.5519L20.136 19.5519L21.5556 20.2709L21.7815 19.8248L21.5556 20.2709C22.7579 20.8798 24.2152 20.3831 24.8182 19.1772L24.8199 19.1737C25.4074 17.9758 24.9306 16.4943 23.725 15.8873C23.7248 15.8872 23.7246 15.8871 23.7244 15.887L22.4902 15.2619ZM9.0892 24.7198L9.08811 24.7226C8.91835 25.1522 8.66445 25.5379 8.33728 25.8598L8.33726 25.8598L8.33404 25.863L5.28796 28.9152C4.3311 29.8721 4.3311 31.4255 5.28796 32.3824C6.24483 33.3392 7.79217 33.3392 8.74904 32.3824L12.3682 28.7632C12.7884 28.343 13.1174 27.8417 13.3429 27.2883L13.3442 27.2852L14.1667 25.2258L14.2833 24.934L14.0709 24.7024C13.5668 24.1527 13.1613 23.7111 12.8344 23.3551C12.0653 22.5175 11.7309 22.1533 11.5699 21.9693C11.4696 21.8546 11.4562 21.8319 11.4459 21.8146C11.4451 21.8133 11.4444 21.812 11.4436 21.8108C11.4402 21.8051 11.4367 21.7992 11.433 21.7931C11.3986 21.7354 11.3492 21.6529 11.218 21.4734L10.6864 20.7462L10.3504 21.582L9.0892 24.7198ZM17.7419 7.74917C19.6327 7.74917 21.1665 6.21535 21.1665 4.3246C21.1665 2.43385 19.6327 0.900024 17.7419 0.900024C15.8512 0.900024 14.3174 2.43385 14.3174 4.3246C14.3174 6.21535 15.8512 7.74917 17.7419 7.74917Z" fill="#286E8C" stroke="white"/>
                                <path d="M18.1585 14.526L17.436 14.8172L17.4359 14.8172C17.116 14.9461 16.8529 15.1923 16.6916 15.5142C16.6914 15.5146 16.6912 15.5149 16.691 15.5153L16.2841 16.3413L16.2827 16.344L16.2827 16.344C15.6798 17.5499 14.2225 18.0466 13.0202 17.4377C11.8157 16.8309 11.3377 15.3618 11.9324 14.1568L18.1585 14.526ZM18.1585 14.526L17.4708 17.2723L17.4708 17.2725C17.1131 18.703 17.4984 20.2213 18.4942 21.3133L18.495 21.3141L22.1438 25.2979C22.1439 25.2981 22.1441 25.2983 22.1443 25.2985C22.5271 25.7187 22.7979 26.2234 22.9361 26.7704C22.9362 26.7707 22.9363 26.7709 22.9363 26.7712L24.051 31.236L24.0512 31.2368C24.38 32.5443 25.7102 33.3493 27.0221 33.0194C28.3292 32.6907 29.1342 31.3611 28.8049 30.0495L18.1585 14.526ZM12.3406 13.3282L11.9325 14.1565L21.5019 9.19888L21.5033 8.69888C21.5032 8.69888 21.5031 8.69888 21.503 8.69888C19.4673 8.69328 18.2059 9.2125 16.3998 9.95594C16.1545 10.0569 15.8991 10.162 15.6304 10.2705C14.199 10.847 13.0284 11.9393 12.341 13.3273L12.3406 13.3282ZM28.7299 15.2619L28.2037 13.6668L28.8047 30.0486L27.4523 24.6268L27.452 24.6255C27.2739 23.9201 26.9243 23.2603 26.4275 22.7218C26.4272 22.7215 26.427 22.7213 26.4267 22.721L23.8374 19.8926L24.4207 17.563C24.8375 18.4181 25.5212 19.119 26.3756 19.5519L26.3757 19.5519L27.7953 20.2709L28.0212 19.8248L27.7953 20.2709C28.9977 20.8798 30.455 20.3831 31.0579 19.1772L31.0596 19.1737C31.6471 17.9758 31.1703 16.4943 29.9647 15.8873C29.9645 15.8872 29.9644 15.8871 29.9642 15.887L28.7299 15.2619ZM15.3289 24.7198L15.3279 24.7226C15.1581 25.1522 14.9042 25.5379 14.577 25.8598L14.577 25.8598L14.5738 25.863L11.5277 28.9152C10.5708 29.8721 10.5708 31.4255 11.5277 32.3824C12.4846 33.3392 14.0319 33.3392 14.9888 32.3824L18.6079 28.7632C19.0281 28.343 19.3572 27.8417 19.5826 27.2883L19.5839 27.2852L20.4064 25.2258L20.523 24.934L20.3106 24.7024C19.8065 24.1527 19.4011 23.7111 19.0742 23.3551C18.3051 22.5175 17.9707 22.1533 17.8097 21.9693C17.7094 21.8546 17.6959 21.8319 17.6857 21.8146C17.6849 21.8133 17.6841 21.812 17.6834 21.8108C17.68 21.8051 17.6764 21.7992 17.6728 21.7931C17.6383 21.7354 17.589 21.6529 17.4577 21.4734L16.9261 20.7462L16.5902 21.582L15.3289 24.7198ZM23.9817 7.74917C25.8724 7.74917 27.4062 6.21535 27.4062 4.3246C27.4062 2.43385 25.8724 0.900024 23.9817 0.900024C22.0909 0.900024 20.5571 2.43385 20.5571 4.3246C20.5571 6.21535 22.0909 7.74917 23.9817 7.74917Z" fill="#286E8C" stroke="white"/>
                                <path d="M25.4813 14.526L24.7587 14.8172L24.7586 14.8172C24.4388 14.9461 24.1756 15.1923 24.0143 15.5142C24.0141 15.5146 24.0139 15.5149 24.0137 15.5153L23.6068 16.3413L23.6055 16.344L23.6055 16.344C23.0025 17.5499 21.5453 18.0466 20.3429 17.4377C19.1385 16.8309 18.6605 15.3618 19.2551 14.1568L25.4813 14.526ZM25.4813 14.526L24.7936 17.2723L24.7935 17.2725C24.4359 18.703 24.8212 20.2213 25.817 21.3133L25.8177 21.3141L29.4665 25.2979C29.4667 25.2981 29.4669 25.2983 29.467 25.2985C29.8498 25.7187 30.1207 26.2234 30.2589 26.7704C30.259 26.7707 30.259 26.7709 30.2591 26.7712L31.3738 31.236L31.374 31.2368C31.7028 32.5443 33.0329 33.3493 34.3448 33.0194C35.652 32.6907 36.457 31.3611 36.1277 30.0495L25.4813 14.526ZM19.6633 13.3282L19.2553 14.1565L28.8246 9.19888L28.826 8.69888C28.8259 8.69888 28.8258 8.69888 28.8257 8.69888C26.7901 8.69328 25.5287 9.2125 23.7225 9.95594C23.4772 10.0569 23.2219 10.162 22.9532 10.2705C21.5218 10.847 20.3512 11.9393 19.6638 13.3273L19.6633 13.3282ZM36.0527 15.2619L35.5264 13.6668L36.1275 30.0486L34.7751 24.6268L34.7747 24.6255C34.5967 23.9201 34.2471 23.2603 33.7502 22.7218C33.75 22.7215 33.7497 22.7213 33.7495 22.721L31.1602 19.8926L31.7434 17.563C32.1602 18.4181 32.844 19.119 33.6984 19.5519L33.6985 19.5519L35.1181 20.2709L35.344 19.8248L35.1181 20.2709C36.3204 20.8798 37.7777 20.3831 38.3807 19.1772L38.3824 19.1737C38.9699 17.9758 38.4931 16.4943 37.2875 15.8873C37.2873 15.8872 37.2871 15.8871 37.2869 15.887L36.0527 15.2619ZM22.6517 24.7198L22.6506 24.7226C22.4809 25.1522 22.227 25.5379 21.8998 25.8598L21.8998 25.8598L21.8965 25.863L18.8505 28.9152C17.8936 29.8721 17.8936 31.4255 18.8505 32.3824C19.8073 33.3392 21.3547 33.3392 22.3115 32.3824L25.9307 28.7632C26.3509 28.343 26.6799 27.8417 26.9054 27.2883L26.9067 27.2852L27.7292 25.2258L27.8458 24.934L27.6334 24.7024C27.1293 24.1527 26.7238 23.7111 26.3969 23.3551C25.6278 22.5175 25.2934 22.1533 25.1324 21.9693C25.0321 21.8546 25.0187 21.8319 25.0084 21.8146C25.0076 21.8133 25.0069 21.812 25.0061 21.8108C25.0027 21.8051 24.9992 21.7992 24.9955 21.7931C24.9611 21.7354 24.9117 21.6529 24.7805 21.4734L24.2489 20.7462L23.9129 21.582L22.6517 24.7198ZM31.3044 7.74917C33.1952 7.74917 34.729 6.21535 34.729 4.3246C34.729 2.43385 33.1952 0.900024 31.3044 0.900024C29.4137 0.900024 27.8799 2.43385 27.8799 4.3246C27.8799 6.21535 29.4137 7.74917 31.3044 7.74917Z" fill="#286E8C" stroke="white"/>
                            </svg>

                    </SliderGroup>
                </TamanhoFila>

                <Comentarios>
                    <span>
                        Comentários
                    </span>
                    <TextArea  placeholder='Ex.: “Tem estacionamento enfrente”, “atendimento muito bom”, “acesso pela rua lateral”, “poucos enfermeiros vacinando”, etc.' >
                    </TextArea>
                </Comentarios>
            </ModalContent>
            <ModalFooter>
                <OutlineButton color='#7E8992' onClick={() => {naoTemVacina();}}>
                    <span>
                        Não, obrigado
                    </span>
                </OutlineButton>
                <Button onClick={() => {temVacina();}}>
                    <span>
                        Enviar informações
                    </span>
                </Button>
            </ModalFooter>
        </ModalCard>
    );
}

export default DetalhesModal;